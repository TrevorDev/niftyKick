{% extends 'layout.html' %}
{% block body %}
	<div>
		<form class="form-horizontal" role="form" enctype='multipart/form-data'>
	    <div class="container-wide">
	    	<div class="row">
    				<div class="col-lg-8 col-lg-offset-2">
	    				<h1>Step 1 - Choose Media Type</h1>
						  <div class="form-group">
						    <label class="col-sm-2 control-label">Type</label>
						    <div class="col-sm-10">
						      <select name="type" class="form-control">
									  <option>Music</option>
									  <option>Game</option>
									  <option>Video</option>
									</select>
						    </div>
						  </div>
					  </div>
    		</div><!-- /col-lg-8 -->
	    </div> <!-- /container-wide -->

	    <div class="container-wide" id="green">
	    	<div class="row">
    				<div class="col-lg-8 col-lg-offset-2" style="padding-bottom:40px;">
	    				<h1>Step 2 - Input Project Details</h1>
						  <div class="form-group">
						    <label class="col-sm-2 control-label">Project Title</label>
						    <div class="col-sm-10">
						      <input name="title" type="text" class="form-control" placeholder="Title">
						    </div>
						  </div>
						  <div class="form-group">
						    <label for="inputPassword3" class="col-sm-2 control-label">Small info</label>
						    <div class="col-sm-10">
						      <input name="info" type="text" class="form-control" id="inputPassword3" placeholder="Info">
						    </div>
						  </div>
						  <div class="form-group">
						    <label for="inputPassword3" class="col-sm-2 control-label">Description</label>
						    <div class="col-sm-10">
						      <textarea name="description" class="form-control" rows="20"></textarea>
						    </div>
						  </div>
					  </div>
    		</div><!-- /col-lg-8 -->
	    </div> <!-- /container-wide -->
		</form>

	    <div class="container-wide">
	    	<div class="row">
    				<div class="col-lg-8 col-lg-offset-2">
	    				<h1>Step 3 - Upload file</h1>
	    				<div >
							  <form style="height:400px;width:100%;border:1px solid" class="dropzone" id="dropzone">
							  	<input name="folderName" type="hidden" value="test">
								</form>
							</div>
					  </div>
    		</div><!-- /col-lg-8 -->
	    </div> <!-- /container-wide -->

	    <div class="container-wide" id="green">
	    	<div class="row">
    				<div class="col-lg-8 col-lg-offset-2">
	    				<h1>Step 4 - Create Your Project</h1>
						  <div class="form-group">
						    <div class="col-sm-offset-0 col-sm-12 centered">
						      <button type="submit" class="btn btn-default">Create</button>
						    </div>
						  </div>
					  </div>
    		</div><!-- /col-lg-8 -->
	    </div> <!-- /container-wide -->
	</div><!-- /hello -->
{% endblock %}
{% block script %}
<script src="./public/vendor/dropzone/dropzone.js"></script>
<script>

$.ajax({
     type: "POST",
     url: "/api/user/createTempUploadFolder",
     data: $("#createAccount").serialize(), 
     success: function(resp)
     {
     	DropZoneJS();
     	//console.log(resp.data.folderName)
			// "myAwesomeDropzone" is the camelized version of the HTML element's ID
			Dropzone.options.dropzone = {
			  paramName: "file", // The name that will be used to transfer the file
			  maxFilesize: 1000, // MB
			  addRemoveLinks: true,
			  url: "/api/user/fileUpload/"+resp.data.folderName,
			  accept: function(file, done) {
			    done();
			  },
			  complete: function() {
			    //alert("fdsf")
			  }
			};
     },
     error: function(XMLHttpRequest, textStatus, errorThrown) {
     		alert("Upload server is down");
     		window.location.replace("/");
     } 
   });
</script>
{% endblock %}
{% block css %}
<link href="/public/vendor/dropzone/dropzone.css" rel="stylesheet">
{% endblock %}